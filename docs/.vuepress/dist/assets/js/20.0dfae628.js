(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{377:function(n,e,t){"use strict";t.r(e);var o=t(22),s=Object(o.a)({},(function(){var n=this.$createElement,e=this._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":this.$parent.slotKey}},[e("h1",{attrs:{id:"拖拽dom例子"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#拖拽dom例子"}},[this._v("#")]),this._v(" 拖拽DOM例子")]),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v(' fab() {\n    var div1: any = document.querySelector(\'#fab\');\n    //限制最大宽高，不让滑块出去\n    var maxW = document.body.clientWidth - div1.offsetWidth;\n    var maxH = document.body.clientHeight - div1.offsetHeight;\n    var oL, oT\n    //手指触摸开始，记录div的初始位置\n    div1.addEventListener(\'touchstart\', function (e) {\n      var ev = e || window.event;\n      var touch = ev.targetTouches[0];\n      oL = touch.clientX - div1.offsetLeft;\n      oT = touch.clientY - div1.offsetTop;\n      document.addEventListener("touchmove", defaultEvent, false);\n    });\n    //触摸中的，位置记录\n    div1.addEventListener(\'touchmove\', function (e) {\n      var ev = e || window.event;\n      var touch = ev.targetTouches[0];\n      var oLeft = touch.clientX - oL;\n      var oTop = touch.clientY - oT;\n      if (oLeft < 0) {\n        oLeft = 0;\n      } else if (oLeft >= maxW - 56) {\n        oLeft = maxW - 56;\n      }\n      if (oTop < 0) {\n        oTop = 0;\n      } else if (oTop >= maxH) {\n        oTop = maxH;\n      }\n      div1.style.left = oLeft + \'px\';\n      div1.style.top = oTop + \'px\';\n    });\n    //触摸结束时的处理\n    div1.addEventListener(\'touchend\', function () {\n      document.removeEventListener("touchmove", defaultEvent);\n    });\n    //阻止默认事件\n    function defaultEvent(e) {\n      e.preventDefault();\n    }\n    // pc端\n    // box1.onmousedown = function () {\n    //   /*为document绑定一个onmousemove事件\n    //    为什么要为document绑定事件而不是box1绑定呢？\n    //              给box1绑定上则只有鼠标在box1上才会有效，此时只能随着鼠标往下移，很局限\n    // */\n    //   document.onmousemove = function (e: any) {\n    //     console.log("触发了鼠标移动事件事件");\n    //     var evt = e || event;\n    //     console.log(e);\n    //     //获取鼠标的位置\n    //     //var left = evt.clientX;\n    //     //var top = evt.clientY;\n    //     //console.log(left,top);\n    //     /*修改移动的元素的位置            \n    //      注意：要修改元素的top，left值必须给它设置定位，否则无效*/\n    //     box1.style.left = evt.clientX + "px";\n    //     box1.style.top = evt.clientY + "px";\n    //     console.log("box1的位置为：" + box1.style.left + "," + box1.style.top);\n    //   };\n    //   //为元素绑定一个鼠标松开事件：当松开时，元素固定在当前位置（取消document的onmousemove事件）\n    //   box1.onmouseup = function () {\n    //     document.onmousemove = null;\n    //   };\n\n    // };\n  }\n')])])])])}),[],!1,null,null,null);e.default=s.exports}}]);